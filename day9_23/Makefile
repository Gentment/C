#	makefile编写规则
#	目标对象：依赖对象
#	为了生成目标对象所执行的命令
#
#	make 可以检测目标对象与依赖对象的时间属性，判断程序是否需要重新编译
#	make永远只找第一个目标对象生成，生成了第一个对象就退出了
#	make 可以指定要生成的对象，例如： make clean
#	伪对象：不管是不是最新的，都需要重新生成
#		使用.PHONY来声明一个对象是伪对像
#	变量：预定义变量----makefile中已经提前定义好的变量
#	$@ 编写规则中要生成的目标对象
#	$^ 编写规则中所有的依赖对象
#	$< 编写规则中第一个依赖对象
#
src= $(wildcard ./*.c)  # 获取当前目录下文件名字以.c结尾的文件名赋值给src
bin=./main
#a=$(bin)  #变量的使用需要加上$符号，否则认为是字符串赋值
all:$(bin) 

#gcc的-g 选项是开启了gdb的调试选项，目的是为了在可执行程序中加入
.PHONY:main clean
$(bin):$(src)
	gcc -g  $^  -o $@
clean:
	rm -f   $(bin)
